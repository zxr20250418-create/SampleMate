样片展示 iPad App 规格说明

1. 背景与目标
- 现场海边拍摄需要快速展示样片并促成拍摄，当前相册在缩略/选图上效率低。
- 目标：提供一个专用 iPad 样片展示与轻量统计的工具，操作快速、稳定，适合强光与现场节奏。
- 同时作为“精选样片库”，支持标签管理与姿势库（拍照姿势知识）。

2. 使用者与场景
- 使用者：摄影师本人（主要操作者），游客为被展示对象。
- 场景：海边户外，强光、风、手湿、现场节奏快。

3. 范围与边界
包含：
- 样片展示与分类浏览
- 标签管理与检索（内部使用）
- 姿势库展示（给客人看，也可自用）
- 轻量统计：看过/想拍 + 转化率，按分类统计
- CSV 导出（用于后续统计）

不包含：
- 试拍/正式拍摄的计时、金额、客户信息等完整流程（由其他 App 负责）
- 云端同步与多人协作（首版不做）

4. 核心概念
4.1 展示分类
- 用于现场展示与统计的分类，如：男生、女生、情侣、亲子、朋友等。
- 每张样片必须归属 1 个展示分类。
- 分类可自定义名称与顺序。

4.2 标签
- 用于内部管理与检索，不对客人展示。
- 一张照片可有多个标签。
- 标签入口为独立页面，展示模式默认隐藏。
- 标签支持自定义新增/编辑/删除。
- 支持“展示库准入标签”可配置，默认标签名为“样片”。

4.5 场景条件标签
- 用于描述天气/季节/现场条件（如晴天/阴天/日落/海鸥季等）。
- 与人群分类独立，可与“展示集”组合筛选。
- 条件标签为普通标签的一种，可自由编辑与新增。

4.3 姿势库
- 给客人看/自己参考的“拍照姿势/知识”集合。
- 支持文字 + 参考图。
- 支持在 App 内编辑与增删分类（如年轻/男生/情侣/中年/全家等）。

4.4 人物/套图
- 一个展示分类下包含多个“人物/套图”。
- 每个“人物/套图”由 1 张主图 + 多张同一人的补充图组成。
- 展示时以“人物/套图”为单位切换。

5. 信息架构与入口
- 主入口建议：样片库、展示、姿势库、统计、设置
- “展示模式”进入后隐藏编辑与标签入口，只保留必要按钮。

6. 关键交互与展示逻辑
6.1 全屏展示
- 单张照片全屏显示，支持横竖屏。
- 左右滑动切换当前分类内的“人物/套图”。
- 上下滑动切换展示分类。
- 全屏不显示文字区与价格，仅保留轻量分类名提示（可选隐藏）。

6.2 缩小模式
- 捏合缩小进入缩小模式，张开恢复全屏。
- 缩小模式结构：主图 + 2~3 张小图 + 文字区（均为同一人物/套图）。
- 点小图切换为主图，原主图下沉到小图区。
- 小图区可横向滑动翻页，用于查看该人物的更多照片。
- 手势区域规则：主图区左右滑切换人物/套图；小图区横向滑仅翻缩略图，不触发切人。
- 文字区显示：
  - 全局固定信息：相机、价格、风格等。
  - 分类附加信息：针对不同客群的补充说明。
- 布局自适应：
  - 横屏：文字区在右侧竖栏。
  - 竖屏：文字区在底部横栏。
- 价格默认显示，可手动一键隐藏/显示。

6.3 展示模式（只读）
- 进入展示模式后隐藏标签管理与编辑入口。
- 退出展示模式需防误触（如长按/双击确认退出）。

6.4 界面结构与线框（低保真）
说明：以下为布局草图，仅用于交互与信息结构，不代表最终视觉。

6.4.1 顶部导航（普通模式）
```
[样片库]  [展示]  [姿势库]  [统计]  [设置]
```

6.4.2 展示页（全屏）
```
┌─────────────────────────────────────────────┐
│             [分类名]            •(统计入口) │
│                                             │
│                  全屏照片                    │
│                                             │
│                                   书(姿势库) │
└─────────────────────────────────────────────┘
手势：左右翻图 / 上下切分类 / 捏合缩小
```

6.4.3 展示页（缩小态-横屏）
```
┌──────────────────────────┬──────────────────┐
│          主图            │  相机/价格/风格   │
│      下方2-3张小图        │  分类补充说明     │
│                          │  价格：¥xxx  [眼] │
└──────────────────────────┴──────────────────┘
```

6.4.4 展示页（缩小态-竖屏）
```
┌──────────────────────────┐
│          主图            │
│      下方2-3张小图        │
├──────────────────────────┤
│ 相机/价格/风格            │
│ 分类补充说明   价格[眼]   │
└──────────────────────────┘
```

6.4.5 统计浮层（隐蔽入口触发）
```
┌──────── 统计 ────────┐
│ 看过 +1   | 想拍 +1  │
│ 当日：看过xx 想拍xx  │
└──────────────────────┘
```

6.4.6 姿势库浮层
```
┌──────── 姿势库 ────────┐
│ 分类：男生/女生/情侣... │
│ [图] 姿势说明文字       │
│ [图] 姿势说明文字       │
└──────────────────────┘
```

6.4.7 样片库（管理页）
```
┌──────────────────────────────────────────┐
│ 导入：相册 / 文件                           │
│ 分类列表（可拖拽排序）                       │
│  - 男生  - 女生  - 情侣  - 亲子 ...          │
│ 标签入口（仅管理模式可见）                   │
└──────────────────────────────────────────┘
```

6.5 展示模式 / 管理模式切换流程
- 管理模式：可见样片库、标签、设置与姿势库编辑入口。
- 进入展示模式：从展示页触发，隐藏编辑与标签入口，仅保留展示、姿势库与统计隐蔽入口。
- 退出展示模式：长按空白区域或双击分类名弹确认，避免误触。

6.6 展示模式操作流程（详细）
6.6.1 进入展示模式
- 入口：展示页右上角菜单/按钮进入“展示模式”。
- 进入后立即隐藏：样片库、标签、设置、姿势库编辑入口。
- 保留并显示：分类名、统计隐蔽入口、姿势库入口。

6.6.2 展示中主要操作
- 左右滑动：切换当前分类内“人物/套图”。
- 上下滑动：切换展示分类。
- 捏合缩小/张开恢复：全屏与缩小态切换。
- 价格显示：默认显示，可点“眼”图标一键隐藏/显示，记住上次状态。
- 姿势库：点右下角书图标呼出浮层，仅浏览，不可编辑。

6.6.3 统计记录
- 入口：右上角小圆点打开统计浮层。
- 操作：点“看过”或“想拍”按钮。
- 归类：默认记录到当前展示分类。
- 关闭：点空白处或关闭按钮。
- 撤销：5 秒内可撤销最近一次记录。

6.6.4 退出展示模式（防误触）
- 触发：长按空白区域或双击分类名。
- 弹出确认：是否退出展示模式。
- 确认后返回管理模式，恢复编辑与标签入口。

6.7 动效与质感
目标：少而稳，增强质感但不干扰现场节奏。

6.7.1 预设动效风格包（可切换）
- 默认风格：干净克制。
- 风格包 A：干净克制
  - 翻图：平移 + 轻淡入淡出，180-220ms
  - 切分类：垂直滑入，200ms
  - 捏合缩小：平滑收拢，无明显回弹
- 风格包 B：电影感
  - 翻图：轻微景深错层 + 轻淡入，200-240ms
  - 切分类：垂直滑入 + 轻微缓入，200ms
  - 浮层：轻缩放 0.96->1 + 轻遮罩，120-180ms
- 风格包 C：卡片感
  - 翻图：平移 + 轻阴影层次，180-220ms
  - 切分类：卡片上下滑入 + 轻阴影，200ms
  - 捏合缩小：卡片收拢 + 轻回弹

6.7.2 额外质感包（可选叠加）
- 允许在设置中自由叠加质感包。
- 纸张翻页感：极轻微弯曲阴影，不夸张
- 镜头推拉感：轻微缩放 + 景深
- 快门切换感：短促黑闪 + 切换
- 磨砂玻璃感：浮层轻模糊背景
- 堆叠卡片感：分类切换像抽卡

6.7.3 强光模式动效策略
- 强光/高对比度模式下自动降低动效强度。
- 关闭易降低可读性的效果（如磨砂玻璃感与重模糊）。

6.8 文字区文案策略
目标：吸引注意但不喧宾夺主，静态为主，必要时轻度动态。

6.8.1 基本文字结构（建议 3 行内）
- 第 1 行：吸引注意的核心好处（可按分类变化）
- 第 2 行：可信信息（时间/出片/交付/体验）
- 第 3 行：价格或套餐信息（可一键隐藏/显示）

6.8.2 动态策略（默认）
- 静态为主，闲置 2-3 秒才淡入轮换一句提示。
- 有触控或切图时停止轮换，避免分心。

6.8.3 自定义文案方案
- 不内置文案包，全部由用户自行编辑。
- 支持创建多套“文案方案”并命名，展示时可切换。
- 文案在 App 内可编辑，支持按分类维护第 1 行的差异化提示。

6.8.4 文案编辑界面流程
- 入口：设置 -> 文案方案。
- 方案列表：新建、重命名、复制、删除、设为当前。
- 方案编辑：
  - 编辑全局 3 行文案（默认用于所有分类）。
  - 进入分类列表，为单一分类覆盖第 1 行（可选覆盖第 2、3 行）。
- 预览：提供横屏/竖屏预览。
- 保存：自动保存，切换方案即生效。

6.8.5 文案数据结构（字段/长度/字号约束）
- 文案方案：
  - id, name, is_active, updated_at
  - global_lines: line1, line2, line3
  - category_overrides: category_id, line1?, line2?, line3?
- 长度与显示规则：
  - 每行最多 1 行显示，默认不换行。
  - 建议长度：line1 <= 18 个中文字，line2 <= 20，line3 <= 16。
  - 过长时先缩小字号，仍超出则截断显示“…”。 
- 字号建议（可随屏幕自适应）：
  - line1: 28pt（最小 20pt）
  - line2: 22pt（最小 18pt）
  - line3: 20pt（最小 18pt）
  - 竖屏可整体下调 2pt。
- 价格开关：
  - 价格信息放在 line3。
  - 价格隐藏时，line3 整行隐藏。

6.8.6 文字区视觉风格（可切换）
说明：仅影响版式与视觉风格，不内置文案内容。
- 风格 1：清爽信息卡（半透明面板 + 信息芯片）
  - 适合强光与远距离可读。
- 风格 2：极简文字（轻遮罩，无面板）
  - 画面更干净，信息存在感更弱。
- 风格 3：轻商务感（价格更突出，信息更直给）
  - 成交导向更强。
- 风格 4：杂志留白（更大留白 + 细线分隔）
  - 高级感更强，但信息密度略低。
- 风格 5：影像质感（暗底轻磨砂 + 白字）
  - 夜景/黄昏照片更搭，但强光下可读性需校验。
- 文字风格与文案方案独立，支持后续扩展更多样式。

7. 样片管理
7.1 导入
- 支持从相册与文件导入。
- 导入后复制到 App 内，避免原图删除影响展示。

7.2 分类与标签
- 单张照片可快速点选标签。
- 分类用于展示，标签用于内部检索。
- 支持按标签筛选浏览。
- 支持临时隐藏/置顶套图（仅影响展示，不删除数据）。
- 标记“展示库准入标签”后自动进入展示库。
- 支持场景条件标签（天气/季节/环境）用于后续筛选。

7.3 人物/套图管理
- 导入后可在分类内快速分组为“人物/套图”。
- 创建方式：多选照片 -> 新建人物/套图 -> 可选填写人物名/备注。
- 主图选择：默认取第一张，可手动指定或一键替换。
- 套图编辑：可调整照片顺序、增删照片、替换主图。
- 小图区展示顺序与套图照片顺序一致。
- 支持将照片移动到其他人物/套图，避免重复导入。

7.4 展示集快捷入口
- 可创建“展示集”（例如情侣/亲子/夕阳/阴天）。
- 展示集可包含多个分类与套图。
- 展示页支持一键切换展示集，快速适配不同客群场景。
- 展示集可叠加场景条件标签进行组合筛选。
- 条件筛选入口为隐蔽入口（仅操作者可用）。
- 默认记住上次使用的条件筛选。
- 展示筛选规则优先级：
  1) 仅展示打了“展示库准入标签”的照片/套图。
  2) 若选择展示集，则在准入范围内进一步筛选展示集内容。
  3) 若启用场景条件，则在展示集结果上继续过滤。

8. 姿势库
- 入口按钮在展示页可见，但保持低打扰。
- 展示给客人时，不暴露后台编辑功能。
- 内容支持文字 + 参考图，支持分类管理与编辑。

9. 轻量统计
9.1 统计口径
- “看过”：看过样片的人数（包含想拍）。
- “想拍”：看过样片后表示愿意试拍/想拍的人数。
- 转化率 = 想拍 / 看过。

9.2 记录方式
- 展示页角落隐蔽按钮打开统计面板。
- 面板提供两按钮：看过、想拍。
- 默认按当前展示分类计入统计。

9.3 日内回顾与修正
- 当天可查看明细或汇总，并可修正误点。
- 支持按分类查看当日看过/想拍及转化率。

9.4 CSV 导出
- 导出范围：当日明细 + 分类汇总（优先）。
- 字段建议：日期、分类、看过、想拍、转化率。

10. 设置项
- 价格显示开关（记住上次状态）。
- 展示模式退出方式（长按/双击）。
- 分类与顺序管理。
- 姿势库分类管理。
- 文案方案管理与切换（自定义）。
- 动态文案开关与轮换间隔。
- 文字区视觉风格选择。
- 展示集管理入口。
- 引导式访问提示入口（防误触与专注模式）。
- 标签管理与“展示库准入标签”配置。
- iCloud 原图同步开关与授权说明。

11. 非功能需求
- 离线可用，所有核心功能不依赖网络。
- 强光环境下文字可读（高对比度配色）。
- 操作步骤尽量少，避免现场分心。
- 流畅性：主交互稳定 60fps，滑动与手势响应 <100ms。
- 图片切换：常规切换 <250ms，预加载相邻 1-2 张。
- 进入展示：从主页进入展示 <1s（缓存就绪情况下）。

11.1 性能与容量策略
- 软上限建议：样片总量约 1000 张，单类约 150 张。
- 原图保留，但展示时优先使用“展示尺寸缓存图”（长边约 3000-3500px）。
- 放大细看时自动切回原图，保证质感。
- 导入时异步生成缩略图与展示尺寸图，避免卡顿。
- 低内存时自动降级：减少预加载数量、关闭重动效。

12. iCloud 同步与离线策略
12.1 同步目标
- App 内自动同步，离线可用，Wi-Fi 才上传。
- 同步范围：样片资源（展示尺寸图为默认）、分类/标签、文案方案、姿势库、统计汇总。
- 原图同步需用户明确同意，未同意仅同步展示尺寸图。

12.2 同步策略
- 采用本地优先：所有操作先落本地，再后台排队同步。
- 仅在 Wi-Fi 环境上传；无 Wi-Fi 时仅记录待同步队列。
- 下载策略：进入 App 时按需拉取元数据，图片按需下载与缓存。
- 同步状态提示：设置页显示“已同步/等待 Wi-Fi/失败重试”。

12.3 冲突处理
- 文案/姿势库/分类：默认后写覆盖，保留最近 1 个历史版本以防误改。
- 标签：合并策略（并集），避免覆盖丢失。
- 样片删除：本地删除时进入“待同步删除”，同步后从云端删除。

12.4 异常与限制
- 未登录 iCloud 时不影响核心功能，提示可开启同步。
- 低存储时暂停自动同步并提示清理空间。
- 强网弱网切换不阻塞展示与统计流程。

13. 风险与取舍
- 首版不做完整拍摄流程统计，避免复杂度影响展示效率。
- 标签与分类分离，降低客人误触与信息干扰。
